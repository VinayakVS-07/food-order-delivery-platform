

<!-- Header Bar --> 
<div class="header-bar">
  <button class="back-btn" routerLink="/live-orders">â†</button>
  <div class="header-content">
    <h2>Order #{{ order?.orderID }}</h2>
    <p *ngIf="order">From {{ order.restaurantName }}</p>
  </div>
</div>

<div *ngIf="isLoading" class="loading">Loading order details...</div>

<div class="order-content-wrapper" *ngIf="!isLoading && order">

  <!-- Restaurant Info -->
  <div class="card section-card">
    <div class="section-header restaurant">
      ğŸ´ <span>Restaurant Details</span>
    </div>
    <div class="restaurant-section">
      <img [src]="order.restaurantImage" class="restaurant-img" alt="Restaurant" />
      <div>
        <h3>{{ order.restaurantName }}</h3>
        <p>{{ order.restaurantAddress }}</p>
        <p>ğŸ“ {{ order.restaurantPhone }}</p>
      </div>
    </div>
  </div>

  <!-- Customer Info -->
  <div class="card section-card">
    <div class="section-header customer">
      ğŸ‘¤ <span>Customer Details</span>
    </div>
    <div>
      <p><strong>{{ order.customerName }}</strong></p>
      <p>{{ order.customerAddress }}</p>
      <p>ğŸ“ {{ order.customerPhone }}</p>
    </div>
  </div>

  <!-- Order Info -->
  <div class="card section-card">
    <div class="section-header order">
      ğŸ’° <span>Order Summary</span>
    </div>
    <div class="summary-grid">
      <p><strong>Status:</strong> {{ order.orderStatus }}</p>
      <p><strong>Payment:</strong> {{ order.paymentMethod }} ({{ order.paymentStatus }})</p>
      <p><strong>Total Amount:</strong> â‚¹{{ order.paymentAmount }}</p>
      <p><strong>Rider Earning:</strong> â‚¹{{ order.riderEarning }}</p>
      <p><strong>Instructions:</strong> {{ order.deliveryInstructions || 'None' }}</p>
    </div>
  </div>

  <!-- Items -->
  <div class="card section-card">
    <div class="section-header items">
      ğŸ” <span>Ordered Items</span>
    </div>
    <div *ngFor="let item of order.orderItems" class="item-card">
      <img [src]="item.menuItemImage" alt="Item" />
      <div>
        <p>{{ item.menuItemName }}</p>
        <small>{{ item.quantity }} Ã— â‚¹{{ item.unitPrice }} = â‚¹{{ item.totalPrice }}</small>
      </div>
    </div>
  </div>
</div>

<!-- Sticky Swipe Section -->
<div
  *ngIf="nextStep"
  class="swipe-container"
  #swipeContainer
  (mousedown)="onSwipeStart($event)"
  (touchstart)="onSwipeStart($event)"
>
  <div class="swipe-progress" #swipeProgress></div>
  
    <div class="swipe-icon" #swipeIcon>ğŸš´â€â™‚ï¸</div>
  
  <div class="swipe-text">Swipe to {{ nextStep.label }}</div>
</div>

<!-- Success Banner -->
<div *ngIf="!nextStep" class="delivered-banner">
  Order Delivered Successfully 
  <button class="tick-btn" (click)="navigateToLiveOrders()">
       âœ…
        </button>
</div>
